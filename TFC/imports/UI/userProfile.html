<template name="userProfile">
    <h1 style="text-align: right;">Utilisateur</h1>
    {{#if currentUser}}
        <!-- Displayed when the user is logged in-->
        <button class="logout" style="color: red">Déconnexion</button>
        <button class="info">Magasins favoris</button>
        <button class="comp">Magasins ajoutés</button>
        <button class="info">Produits favoris</button>
        <button class="editProfile">Editer le profil</button>
    {{else}}
        <!-- Displayed when the user is NOT logged in-->
        <button class="register" style="color: red;">Inscription</button>
        <button class="login" style="color: red;">Connexion</button>
    {{/if}}
    {{> Template.dynamic template=currentUserPage}} <!-- Affichage du template dynamique -->
</template>



<template name="register">
    <h2>Inscription</h2>
    <form id="register">
        <label for="username">Nom d'utilisateur:</label>
        <input type="text" name="username" required/>
        <br><br>
        <label for="email">Email:</label>
        <input type="email" name="email" required>
        <br><br>
        <label for="password">Mot de passe:</label>
        <input type="password" name="password" id="password" required>
        <br><br>
        <label for="confirmPassword">Confirmer le mot de passe:</label>
        <input type="password" name="confirmPassword" id="confirmPassword" required>
        <br><br>
        <button type="submit">Valider</button>
        {{#if formErrorMessage}}
            {{formErrorMessage}}
        {{/if}}
    </form>
</template>



<template name="login">
    <h2>Connexion</h2>
    <form id="login">
        <label for="email">Email:</label>
        <input type="email" name="email" required>
        <br><br>
        <label for="password">Mot de passe:</label>
        <input type="password" name="password" required>
        <br><br>
        <button type="submit">Valider</button>
    </form>
    <button class="forgotPassword">Mot de passe oublié</button>
    {{#if formErrorMessage}}
        {{formErrorMessage}}
    {{/if}}
</template>



<template name="forgotPassword">
    <h2>Mot de passe oublié</h2>
    <form id="forgotPassword">
        <label for="email">Email:</label>
        <input type="email" name="email" required>
        <br><br>
        <button type="submit">Réinitialiser le mot de passe</button>
    </form>
</template>


<template name="editProfile">
    <h2>Editer le profil</h2>
    <form id="editProfile" style="width:fit-content;">
        <label for="username">Nom d'utilisateur:</label>
        <input type="text" name="username" id="username" required/>
        <br><br>
        <label for="firstName">Prénom:</label>
        <input type="text" name="firstName">
        <br><br>
        <label for="lastName">Nom:</label>
        <input type="text" name="lastName">
        <br><br>
        <label for="email">Email:</label>
        <input type="email" name="email" id="email" required>
        <br><br>
        <button type="button" id="showAdvancedEdition">Options avancées</button>
        <div id="advancedEdition" style="display: none;">
            <hr>
            <label for="oldPassword">Mot de passe actuel:</label>
            <input type="password" name="oldPassword" id="oldPassword">
            <br><br>
            <label for="newPassword">Nouveau mot de passe:</label>
            <input type="password" name="newPassword" id="newPassword">
            <br><br>
            <label for="confirmNewPassword">Confirmer le mot de passe:</label>
            <input type="password" name="confirmNewPassword" id="confirmNewPassword">
            <br><br>
        </div>
        <button type="submit">Valider</button>
        {{#if formErrorMessage}}
            {{formErrorMessage}}
        {{/if}}
    </form>
</template>
